{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","filterName","filterHandler","value","onChange","PersonForm","newName","nameHandler","newNumber","numberHandler","submitHanlder","onSubmit","type","Person","person","deletePerson","name","number","onClick","Persons","persons","map","p","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setNewName","setNewNumber","setFilterName","setPersons","filterPersons","setFilterPersons","setMessage","useEffect","phoneBookService","initialPerson","updatePhone","responseText","window","confirm","returnedPerson","createPerson","e","filter","toLowerCase","includes","target","event","preventDefault","checkName","find","trim","undefined","alert","personName","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.98659da0.chunk.js","sourcesContent":["const Filter = ({filterName, filterHandler}) => {\n    return (\n        <div>\n            filter shown with <input value={filterName} onChange={filterHandler} />\n        </div>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({newName, nameHandler, newNumber, numberHandler, submitHanlder}) => {\n    return (\n        <form onSubmit={submitHanlder}>\n        <div>\n          name: <input value={newName} onChange={nameHandler} />\n          <br />\n          number: <input value={newNumber} onChange={numberHandler} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({person, deletePerson}) => {\n\n    return (\n        <p>\n            {person.name} {person.number} &nbsp;&nbsp;\n            <button onClick={() => deletePerson(person)}>delete</button>\n        </p>\n    )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, deletePerson}) => {\n    return (\n        persons.map(p => <Person key={p.name} person={p} deletePerson={deletePerson} />)\n    )\n}\n\nexport default Persons\n","import './css/Notification.css'\n\nconst Notification = ({message}) => {\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={message.type}>\n            {message.message}\n        </div>\n    )\n}\n\nexport default Notification\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nimport phoneBookService from './services/phonebook'\n\nconst App = () => {\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  const [ persons, setPersons ] = useState([])\n  const [ filterPersons, setFilterPersons ] = useState([])\n  const [ message, setMessage ] = useState({})\n\n  useEffect(() => {\n    phoneBookService\n      .getAll()\n      .then(initialPerson => {\n        setPersons(initialPerson)\n        setFilterPersons(initialPerson)\n      })\n  }, [])\n\n  const addSubmitHanlder = (event) => {\n    event.preventDefault()\n\n    const checkName = persons.find(e => e.name === newName)\n\n    if (newName.trim() === '') {\n      alert(`Please add name`)\n      return\n    }\n\n    if (newNumber.trim() === '') {\n      alert(`Please add number`)\n      return\n    }\n\n    if (checkName !== undefined) {\n      updatePhone(checkName)\n      return\n    }\n\n    createPerson()\n  }\n\n  const nameHandler = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const numberHandler = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const filterNameHandler = (e) => {\n    const filter = persons.filter(p => p.name.toLowerCase().includes(e.target.value.toLowerCase()))\n    setFilterPersons(filter)\n    setFilterName(e.target.value)\n    setMessage({})\n  }\n\n  const deletePerson = (person) => {\n    const personName = person.name\n    if (window.confirm(`Delete ${personName} ?`)) {\n        phoneBookService\n          .remove(person.id)\n          .then(response => {\n              setPersons(persons.filter(p => p.id !== person.id))\n              setFilterPersons(persons.filter(p => p.id !== person.id))\n              setMessage({type: 'error', message: `Deleted ${personName}`})\n          })\n          .catch(error => {\n            setPersons(persons.filter(p => p.id !== person.id))\n            setFilterPersons(persons.filter(p => p.id !== person.id))\n            setMessage({type: 'error', message: `Information of ${personName} has already been removed from server`})\n          })\n    }\n  }\n\n  const updatePhone = (person) => {\n    const responseText = `${person.name} is already added to phonebook, replace the old number with a new one?`\n\n    if ( window.confirm(responseText)) {\n      phoneBookService\n        .update(person.id, {'name': newName, 'number': newNumber})\n        .then(returnedPerson => {\n          setPersons(persons.map(p => p === person ? returnedPerson : p))\n          setFilterPersons(persons.map(p => p === person ? returnedPerson : p))\n          setMessage({type: 'success', message: `Updated phone number of ${newName}`})\n        })\n    }\n  }\n\n  const createPerson = () => {\n    phoneBookService\n      .create({'name': newName, 'number': newNumber})\n      .then(returnedPerson => {\n        setPersons([...persons, returnedPerson])\n        setFilterPersons([...persons, returnedPerson])\n        setMessage({type: 'success', message: `Added ${newName}`})\n        setNewName('')\n        setNewNumber('')\n        setFilterName('')\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n\n      <Filter filterName={filterName} filterHandler={filterNameHandler} />\n\n      <h2>add a new</h2>\n\n      <PersonForm\n        newName={newName}\n        nameHandler={nameHandler}\n        newNumber={newNumber}\n        numberHandler={numberHandler}\n        submitHanlder={addSubmitHanlder}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={filterPersons} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}